let members = [
  {
    name: "ATLANTIC TRADERS (SARL)",
    logo: "images/gipam/members/gipam.webp",
    link: "https://atlantictraders.ma",
    category: "distributeur",
  },
  {
    name: "MEDI COMP",
    logo: "images/gipam/members/gipam.webp",
    link: "https://medicomp.ma",
    category: "distributeur",
  },
  {
    name: "COPIMA (SARL)",
    logo: "images/gipam/members/copima.webp",
    link: "https://copima.ma",
    category: "distributeur",
  },
  {
    name: "AUTOMIUM",
    logo: "images/gipam/members/automium.webp",
    link: "https://automium.ma",
    category: "distributeur",
  },
  {
    name: "MISFAT MAROC (SARL)",
    logo: "images/gipam/members/gipam.webp",
    link: "https://misfatmaroc.ma",
    category: "fabricant",
  },
  {
    name: "SOMADECO (SARL)",
    logo: "images/gipam/members/somadeco.webp",
    link: "https://somadeco.ma",
    category: "distributeur",
  },
  {
    name: "GAFC",
    logo: "images/gipam/members/gafc.webp",
    link: "https://gafc.ma",
    category: "fabricant",
  },
  {
    name: "MANN & HUMMEL Filters Morocco",
    logo: "images/gipam/members/gipam.webp",
    link: "https://mannhummel.ma",
    category: "fabricant",
  },
  {
    name: "SUD PIECES AUTO (SARL)",
    logo: "images/gipam/members/gipam.webp",
    link: "https://sudpiecesauto.ma",
    category: "fabricant",
  },
  {
    name: "SADIFA (SARL)",
    logo: "images/gipam/members/gipam.webp",
    link: "https://sadifa.ma",
    category: "distributeur",
  },
  {
    name: "MAGHREB ACCESSOIRES (SA)",
    logo: "images/gipam/members/gipam.webp",
    link: "https://maghrebaccessoires.ma",
    category: "distributeur",
  },
  {
    name: "GIMA (SARL)",
    logo: "images/gipam/members/gipam.webp",
    link: "https://gima.ma",
    category: "distributeur",
  },
  {
    name: "ETS PIERRE LAMBERT & CIE (SA)",
    logo: "images/gipam/members/gipam.webp",
    link: "https://etsplambert.ma",
    category: "distributeur",
  },
  {
    name: "SARGOM DIFFUSION (SARL)",
    logo: "images/gipam/members/gipam.webp",
    link: "https://sargomdiffusion.ma",
    category: "distributeur",
  },
  {
    name: "VASCO LUB",
    logo: "images/gipam/members/gipam.webp",
    link: "https://vascolub.ma",
    category: "fabricant",
  },
  {
    name: "Afriquia Lubrifiants SARL",
    logo: "images/gipam/members/gipam.webp",
    link: "https://afriquialubrifiants.ma",
    category: "fabricant distributeur",
  },
  {
    name: "Standat pièce auto (SA)",
    logo: "images/gipam/members/gipam.webp",
    link: "https://standatpieceauto.ma",
    category: "distributeur",
  },
  {
    name: "CAPRAM (SARL)",
    logo: "images/gipam/members/capram.webp",
    link: "https://capram.ma",
    category: "distributeur",
  },
  {
    name: "GRIPAC (SARL)",
    logo: "images/gipam/members/gripac.webp",
    link: "https://gripac.ma",
    category: "distributeur",
  },
  {
    name: "LOUI Import pièces auto",
    logo: "images/gipam/members/gipam.webp",
    link: "https://louiimport.ma",
    category: "distributeur",
  },
  {
    name: "UNAFRICAR (SARL)",
    logo: "images/gipam/members/unafricar.webp",
    link: "https://unafricar.ma",
    category: "distributeur",
  },
  {
    name: "DYNAMIC ACCESS (SARL)",
    logo: "images/gipam/members/dynamicaccess.webp",
    link: "https://dynamicaccess.ma",
    category: "fabricant",
  },
  {
    name: "ASZ (SARL)",
    logo: "images/gipam/members/asz.webp",
    link: "https://asz.ma",
    category: "fabricant",
  },
  {
    name: "FORAMAG (SA)",
    logo: "images/gipam/members/foramag.webp",
    link: "https://foramag.ma",
    category: "distributeur",
  },
  {
    name: "MAROC PIECES AUTOS (SARL)",
    logo: "images/gipam/members/gipam.webp",
    link: "https://marocpiecesautos.ma",
    category: "distributeur",
  },
  {
    name: "GERMAN AUTO PARTS (SA)",
    logo: "images/gipam/members/gap.webp",
    link: "https://germanautoparts.ma",
    category: "distributeur",
  },
  {
    name: "FAST PRO (SA)",
    logo: "images/gipam/members/fastpro.webp",
    link: "https://fastpro.ma",
    category: "service",
  },
  {
    name: "Technoglass",
    logo: "images/gipam/members/gipam.webp",
    link: "https://technoglass.ma",
    category: "distributeur",
  },
  {
    name: "UNISELECT (SARL)",
    logo: "images/gipam/members/gipam.webp",
    link: "https://uniselect.ma",
    category: "distributeur",
  },
  {
    name: "EKAUTO (SARL)",
    logo: "images/gipam/members/gipam.webp",
    link: "https://ekauto.ma",
    category: "distributeur service",
  },
  {
    name: "IHSSANE PIECES AUTO (SARL)",
    logo: "images/gipam/members/gipam.webp",
    link: "https://ihssanepiecesauto.ma",
    category: "distributeur",
  },
  {
    name: "SOFRENO (SARL)",
    logo: "images/gipam/members/gipam.webp",
    link: "https://sofreno.ma",
    category: "distributeur",
  },
  {
    name: "FRESID (SARL)",
    logo: "images/gipam/members/gipam.webp",
    link: "https://fresid.ma",
    category: "distributeur",
  },
  {
    name: "FIDELE PARTS (SARL)",
    logo: "images/gipam/members/gipam.webp",
    link: "https://fideleparts.ma",
    category: "distributeur",
  },
  {
    name: "BAGDAD PIECES AUTOS (SARL)",
    logo: "images/gipam/members/gipam.webp",
    link: "https://bagdadpiecesautos.ma",
    category: "distributeur",
  },
  {
    name: "SPARE PARTS MASTERS",
    logo: "images/gipam/members/gipam.webp",
    link: "https://sparepartsmasters.ma",
    category: "distributeur",
  },
  {
    name: "MOROPARTS (SARL)",
    logo: "images/gipam/members/gipam.webp",
    link: "https://moroparts.ma",
    category: "distributeur",
  },
  {
    name: "DAHAN (SARL)",
    logo: "images/gipam/members/gipam.webp",
    link: "https://dahan.ma",
    category: "distributeur",
  },
  {
    name: "CORIF",
    logo: "images/gipam/members/gipam.webp",
    link: "https://corif.ma",
    category: "distributeur",
  },
  {
    name: "AUTO Distributeur MAROC (SA)",
    logo: "images/gipam/members/gipam.webp",
    link: "https://autodistributeurmaroc.ma",
    category: "distributeur",
  },
  {
    name: "AFRIQUE CABLE (SA)",
    logo: "images/gipam/members/gipam.webp",
    link: "https://afriquecable.ma",
    category: "fabricant",
  },
  {
    name: "CODISPAM (SARL)",
    logo: "images/gipam/members/gipam.webp",
    link: "https://codispam.ma",
    category: "distributeur",
  },
  {
    name: "KAUFFMAN",
    logo: "images/gipam/members/gipam.webp",
    link: "https://kauffman.ma",
    category: "service",
  },
  {
    name: "SOULAYMANE PIECES AUTO (SARL)",
    logo: "images/gipam/members/gipam.webp",
    link: "https://soulaymanepiecesauto.ma",
    category: "distributeur",
  },
  {
    name: "Turbo accessoires",
    logo: "images/gipam/members/gipam.webp",
    link: "https://turboaccessoires.ma",
    category: "distributeur",
  },
  {
    name: "TAHIR INTERNATIONAL TRADING COMPANY (SARL)",
    logo: "images/gipam/members/gipam.webp",
    link: "https://tahirinternationaltradingcompany.ma",
    category: "distributeur",
  },
  {
    name: "BRIGH SUD (SARL)",
    logo: "images/gipam/members/gipam.webp",
    link: "https://brighsud.ma",
    category: "fabricant",
  },
  {
    name: "SODIREP (SARL)",
    logo: "images/gipam/members/gipam.webp",
    link: "https://sodirep.ma",
    category: "distributeur",
  },
  {
    name: "KONIPA (SARL)",
    logo: "images/gipam/members/gipam.webp",
    link: "https://konipa.ma",
    category: "distributeur",
  },
  {
    name: "CICOFAP (SARL)",
    logo: "images/gipam/members/gipam.webp",
    link: "https://cicofap.ma",
    category: "distributeur",
  },
  {
    name: "Palace pièces auto",
    logo: "images/gipam/members/gipam.webp",
    link: "https://palacepiecesauto.ma",
    category: "distributeur",
  },
  {
    name: "CAMPION (SARL)",
    logo: "images/gipam/members/gipam.webp",
    link: "https://campion.ma",
    category: "distributeur",
  },
  {
    name: "GIMPA (SARL)",
    logo: "images/gipam/members/gipam.webp",
    link: "https://gimpa.ma",
    category: "distributeur",
  },
  {
    name: 'Petrole du Maghreb "PETROM"',
    logo: "images/gipam/members/gipam.webp",
    link: "https://petrom.ma",
    category: "fabricant",
  },
  {
    name: "SYAF lubrifiants",
    logo: "images/gipam/members/gipam.webp",
    link: "https://syaflubrifiants.ma",
    category: "fabricant",
  },
  {
    name: "SLPC",
    logo: "images/gipam/members/gipam.webp",
    link: "https://slpc.ma",
    category: "fabricant",
  },
  {
    name: "CHEMS Lub",
    logo: "images/gipam/members/gipam.webp",
    link: "https://chemslub.ma",
    category: "fabricant",
  },
  {
    name: "HOPIC",
    logo: "images/gipam/members/gipam.webp",
    link: "https://hopic.ma",
    category: "distributeur",
  },
  {
    name: "SCAPIR",
    logo: "images/gipam/members/gipam.webp",
    link: "https://scapir.ma",
    category: "distributeur",
  },
  {
    name: "BAMOTORS",
    logo: "images/gipam/members/gipam.webp",
    link: "https://bamotors.ma",
    category: "distributeur",
  },
  {
    name: "SONOPRA",
    logo: "images/gipam/members/gipam.webp",
    link: "https://sonopra.ma",
    category: "distributeur",
  },
  {
    name: "GAMMA PARTS S.A.R.L",
    logo: "images/gipam/members/gipam.webp",
    link: "https://gammaparts.ma",
    category: "distributeur",
  },
  {
    name: "FEU VERT",
    logo: "images/gipam/members/gipam.webp",
    link: "https://feuvert.ma",
    category: "service",
  },
  {
    name: "AZ PART",
    logo: "images/gipam/members/asz.webp",
    link: "https://azpart.ma",
    category: "distributeur",
  },
  {
    name: "Global",
    logo: "images/gipam/members/gipam.webp",
    link: "https://global.ma",
    category: "distributeur",
  },
  {
    name: "SM2F",
    logo: "images/gipam/members/gipam.webp",
    link: "https://sm2f.ma",
    category: "fabricant",
  },
];

// Function to shuffle the members array
function shuffle(array) {
  for (let i = array.length - 1; i > 0; i--) {
    const j = Math.floor(Math.random() * (i + 1));
    [array[i], array[j]] = [array[j], array[i]];
  }
  return array;
}

// Shuffle the members array
members = shuffle(members);

let html = "";

members.forEach((member) => {
  html += `
        <li class="grid-item ${member.category} transition-inner-all">
            <a href="demo-it-business-single-project-gallery.html">
                <div class="portfolio-box">
                    <div class="portfolio-image border-radius-4px">
                        <img src="${member.logo}" alt="" />
                    </div>
                    <div class="portfolio-hover box-shadow-extra-large">
                        <div class="bg-white d-flex align-items-center align-self-end text-start border-radius-4px ps-30px pe-30px pt-20px pb-20px lg-p-20px w-100">
                            <div class="me-auto">
                                <div class="fs-12 fw-500 text-medium-gray text-uppercase lh-14"><a href="${member.link}" target="_blank">${member.name}</a></div>
                            </div>
                        </div>
                    </div>
                </div>
            </a>
        </li>
    `;
});

document.getElementById("member").innerHTML = html;

const image_upload_handler_callback = (blobInfo, progress) =>
  new Promise((resolve, reject) => {
    const xhr = new XMLHttpRequest();
    xhr.withCredentials = false;
    xhr.open("POST", "upload.php");

    xhr.upload.onprogress = (e) => {
      progress((e.loaded / e.total) * 100);
    };

    xhr.onload = () => {
      if (xhr.status === 403) {
        reject({
          message: "HTTP Error: " + xhr.status,
          remove: true,
        });
        return;
      }

      if (xhr.status < 200 || xhr.status >= 300) {
        reject("HTTP Error: " + xhr.status);
        return;
      }

      const json = JSON.parse(xhr.responseText);

      if (!json || typeof json.location != "string") {
        reject("Invalid JSON: " + xhr.responseText);
        return;
      }

      resolve(json.location);
    };

    xhr.onerror = () => {
      reject(
        "Image upload failed due to a XHR Transport error. Code: " + xhr.status
      );
    };

    const formData = new FormData();
    formData.append("file", blobInfo.blob(), blobInfo.filename());

    xhr.send(formData);
  });

const initTinyMCE = (lang) => {
  tinymce.init({
    selector: "textarea#basic-example",
    height: 500,
    width: 1000,
    language: lang,
    toolbar:
      "language | undo redo | blocks | " +
      "bold italic backcolor | alignleft aligncenter " +
      "alignright alignjustify | bullist numlist outdent indent | " +
      "removeformat | help",
    plugins: [
      "advlist",
      "autolink",
      "lists",
      "link",
      "image",
      "charmap",
      "preview",
      "anchor",
      "searchreplace",
      "visualblocks",
      "code",
      "fullscreen",
      "insertdatetime",
      "media",
      "table",
      "help",
      "wordcount",
    ],
    content_style:
      "body { font-family:Helvetica,Arial,sans-serif; font-size:16px }",
    images_upload_url: "upload.php",
    images_upload_handler: image_upload_handler_callback,
    setup: (editor) => {
      editor.ui.registry.addMenuButton("language", {
        text: "Language",
        fetch: (callback) => {
          const items = [
            {
              type: "menuitem",
              text: "English",
              onAction: () => changeLanguage("en"),
            },
            {
              type: "menuitem",
              text: "French",
              onAction: () => changeLanguage("fr"),
            },
            {
              type: "menuitem",
              text: "Arabic",
              onAction: () => changeLanguage("ar"),
            },
          ];
          callback(items);
        },
      });
    },
  });
};

const changeLanguage = (lang) => {
  tinymce.remove();
  initTinyMCE(lang);
};

document.getElementById("upload-button").addEventListener("click", () => {
  // Perform upload logic here
  console.log("Upload button clicked");
});

// Initialize Tiny

initTinyMCE("fr");